{"version":3,"sources":["components/specific/classPreviewCard/ClassPreviewCard.jsx","assets/global/AddFolderIcon.jsx","assets/global/search.svg","components/specific/searchFilter/SearchFilter.jsx","assets/global/filter.svg","components/conventional/customHooks/useSearchAndFilter.js","pages/searchPage/SearchPage.jsx"],"names":["memo","details","watchedDetails","image","title","category","difficulty","duration","classId","_id","dispatch","useDispatch","history","useHistory","userToken","useSelector","state","auth","handleAddCourse","useCallback","e","stopPropagation","reqShowCourseModal","handleRedirect","axios","post","BASE_URL","headers","Authorization","then","res","catch","err","alert","push","pathname","handleBookmarkClass","className","style","backgroundImage","onClick","iconColor","bgColor","color","opacity","role","aria-label","renderEmoji","AddFolderIcon","xmlns","width","height","viewBox","id","data-name","transform","rx","fill","d","module","exports","handleShowFilterSidebar","value","handleChange","src","searchIcon","alt","type","placeholder","onChange","filterIcon","cursor","useSearchAndFilter","mainVideos","videoObjectHasClassField","useState","showFilterSidebar","setShowFilterSidebar","filteredVideos","setFilteredVideos","displayedVideos","setDisplayedVideos","searchValue","setSearchValue","sortBy","setSortBy","categories","topics","difficulties","filters","setFilters","handleSortBy","target","dataset","name","handleSetSearchValue","handleApplyFilters","filteredContent","length","filter","video","includes","class","forEach","topic","sort","a","b","Date","_updated_at","getTime","useEffect","data","item","instructor","toLowerCase","some","handleSetFilters","prevState","handleClearFilters","SearchPage","allClasses","showSuccessToast","slice","map","index","key","marginBottom","marginLeft","handleSaveFilters"],"mappings":"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","file":"static/js/SearchPage.05ee4420.chunk.js","sourcesContent":["import React, { useCallback, memo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport Difficulty from \"@/components/specific/difficulty/Difficulty\";\nimport Time from \"@/components/specific/time/Time\";\nimport Likes from \"@/components/specific/likes/Likes\";\nimport AddFolderIcon from \"@/assets/global/AddFolderIcon\";\nimport BookmarkIcon from \"@/assets/global/BookmatkIcon\";\n\nimport { BASE_URL } from \"@/utils/Url\";\n\nimport { reqShowCourseModal } from \"@/store/global/slice/UtilSlice\";\n\nimport \"./ClassPreviewCard.scss\";\nimport { renderEmoji } from \"@/utils/Utils\";\n\nconst ClassPreviewCard = ({ details, watchedDetails = null }) => {\n    const { image, title, category, difficulty, duration, _id: classId } = details;\n\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    const { userToken } = useSelector((state) => state.auth);\n\n    const handleAddCourse = useCallback(\n        (e) => {\n            e.stopPropagation();\n            dispatch(reqShowCourseModal(classId));\n        },\n        [dispatch]\n    );\n\n    const handleRedirect = useCallback(\n        (e) => {\n            e.stopPropagation();\n            //Increase click count\n            axios\n                .post(\n                    `${BASE_URL}/class/click/${classId}`,\n                    {},\n                    {\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                            Authorization: `Bearer ${userToken}`\n                        }\n                    }\n                )\n                .then((res) => {\n                    // console.log(res, \"click count\");\n                    //course has been saved, needs no ui feedback right now\n                })\n                .catch((err) => {\n                    alert(err);\n                });\n\n            history.push({ pathname: \"/library-class\", state: { details, watchedDetails } });\n        },\n        [details, watchedDetails]\n    );\n\n    const handleBookmarkClass = useCallback(\n        (e) => {\n            e.stopPropagation();\n            axios\n                .post(\n                    `${BASE_URL}/class/save/${classId}`,\n                    {},\n                    {\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                            Authorization: `Bearer ${userToken}`\n                        }\n                    }\n                )\n                .then(() => {\n                    //course has been saved, needs no ui feedback right now\n                })\n                .catch((err) => {\n                    alert(err);\n                });\n        },\n        [classId]\n    );\n\n    return (\n        <div className=\"class-preview-card-component\">\n            <div className=\"image-wrapper\" style={{ backgroundImage: `url(${image})` }} onClick={handleRedirect}>\n                <h5 className=\"badge-new\">NEW</h5>\n                <div className=\"likes-wrapper\">\n                    <Likes iconColor=\"#4389f8\" bgColor=\"#fff\" color=\"#000\" />\n                </div>\n\n                <div className=\"bottom-actions\">\n                    <div onClick={handleBookmarkClass} className=\"bottom-actions__bookmark\">\n                        <div className=\"popup\">Bookmark</div>\n                        <BookmarkIcon color=\"#fff\" bgColor=\"#e63146\" opacity=\"1\" />\n                    </div>\n\n                    <div onClick={handleAddCourse} className=\"bottom-actions__add-to-course\">\n                        <div className=\"popup\">Add to course</div>\n                        <AddFolderIcon color=\"#fff\" bgColor=\"#6a28e6\" opacity=\"1\" />\n                    </div>\n                </div>\n            </div>\n            <h6 className=\"category\">\n                <span role=\"img\" aria-label=\"\">\n                    {renderEmoji(category)}\n                </span>\n                {category}\n            </h6>\n            <h2 className=\"caption\" onClick={handleRedirect}>\n                {title}\n            </h2>\n            <div className=\"info\">\n                <section>\n                    <Difficulty difficulty={difficulty} />\n                </section>\n                <section>\n                    <Time iconColor=\"#fff\" duration={duration} />\n                </section>\n            </div>\n        </div>\n    );\n};\n\nexport default memo(ClassPreviewCard);\n","import React from \"react\";\n\nconst AddFolderIcon = ({ color = \"#6a28e6\", bgColor = \"#6a28e6\", opacity = \"0.15\" }) => {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"34\" viewBox=\"0 0 34 34\">\n            <g id=\"Group_10186\" data-name=\"Group 10186\" transform=\"translate(-227 -622.953)\">\n                <rect\n                    id=\"Rectangle_7355\"\n                    data-name=\"Rectangle 7355\"\n                    width=\"34\"\n                    height=\"34\"\n                    rx=\"17\"\n                    transform=\"translate(227 622.953)\"\n                    fill={bgColor}\n                    opacity={opacity}\n                />\n                <path\n                    id=\"Path_14356\"\n                    data-name=\"Path 14356\"\n                    d=\"M183.187,3002.728H174.7l-.761-.922a1.179,1.179,0,0,0-.891-.406h-2.723a1.01,1.01,0,0,0-1,1v9.992a1.009,1.009,0,0,0,1,1H183.2a1.009,1.009,0,0,0,1-1v-8.664A1.034,1.034,0,0,0,183.187,3002.728Zm-4.013,5.734h-1.681v1.68a.637.637,0,1,1-1.274,0v-1.68h-1.68a.637.637,0,0,1,0-1.275h1.68v-1.68a.637.637,0,1,1,1.274,0v1.68h1.681a.637.637,0,0,1,0,1.275Z\"\n                    transform=\"translate(66.895 -2367.239)\"\n                    fill={color}\n                />\n            </g>\n        </svg>\n    );\n};\n\nexport default AddFolderIcon;\n","module.exports = __webpack_public_path__ + \"static/media/search.5199ddc5.svg\";","import React, { memo } from \"react\";\n\nimport searchIcon from \"@/assets/global/search.svg\";\nimport filterIcon from \"@/assets/global/filter.svg\";\n\nimport \"./SearchFilter.scss\";\n\nconst SearchFilter = ({ handleShowFilterSidebar, value, handleChange }) => {\n    return (\n        <div className=\"search-filter-component\">\n            <img src={searchIcon} alt=\"search\" />\n            <input\n                type=\"text\"\n                placeholder=\"Search by instructor, keyword or topic\"\n                value={value}\n                onChange={handleChange}\n            />\n            <img src={filterIcon} alt=\"filter\" onClick={handleShowFilterSidebar} style={{ cursor: \"pointer\" }} />\n        </div>\n    );\n};\n\nexport default memo(SearchFilter);\n","module.exports = __webpack_public_path__ + \"static/media/filter.5cc563fb.svg\";","import { useState, useCallback, useEffect } from \"react\";\n\n/*\nThree states to take note of:\n1.mainClasses\n2.filteredVideos\n3.displayedVideos\n*/\nconst useSearchAndFilter = (mainVideos, videoObjectHasClassField) => {\n    //----------------------------------------------------------------------------\n    //State\n    //----------------------------------------------------------------------------\n    const [showFilterSidebar, setShowFilterSidebar] = useState(false);\n    const [filteredVideos, setFilteredVideos] = useState([]); //Has classes from database but filtered using filter sidebar\n    const [displayedVideos, setDisplayedVideos] = useState([]); // Has classes from database but filtered using filter sidebar yet also filtered using search input\n    const [searchValue, setSearchValue] = useState(\"\");\n\n    const [sortBy, setSortBy] = useState(\"Newest\");\n    const [filters, setFilters] = useState({\n        categories: [],\n        topics: [],\n        difficulties: []\n    });\n\n    //----------------------------------------------------------------------------\n    //Helper Functions\n    //----------------------------------------------------------------------------\n\n    const handleSortBy = useCallback((e) => {\n        setSortBy(e.target.dataset.name);\n    }, []);\n\n    const handleSetSearchValue = useCallback((e) => {\n        setSearchValue(e.target.value);\n    }, []);\n\n    const handleShowFilterSidebar = useCallback(() => {\n        setShowFilterSidebar(!showFilterSidebar);\n    }, [showFilterSidebar]);\n\n    const handleSetFilters = (value, category) => {\n        setFilters((prevState) => {\n            return {\n                ...prevState,\n                [category]: value\n            };\n        });\n    };\n\n    //----------------------------------------------------------------------------\n    //Apply filters and sorting\n    //This architecture is poor, ideally all these logic should go inside teh filter sidebar component\n    //But unfortunately the discrepancy in the type of data being sent from the backend restricts us from doing so\n    //Nevertheless this works\n    //----------------------------------------------------------------------------\n    const handleApplyFilters = useCallback(() => {\n        //create a duplicate of all videos in this page\n        //We use mainVideos instead of displayedVideos because we want to perform our filter on the entire videos on this page.\n        //Whereas mainVideos contains all the videos on this page, displayedVideos varies in the videos it contains\n        let filteredContent = [...mainVideos];\n\n        if (filters.categories.length !== 0) {\n            //Check each videos category and see if a videos category is present in our category list to be filtered\n            filteredContent = filteredContent.filter((video) => {\n                if (videoObjectHasClassField) {\n                    return filters.categories.includes(video.class.category);\n                } else {\n                    return filters.categories.includes(video.category);\n                }\n            });\n        }\n\n        if (filters.topics.length !== 0) {\n            //Check each videos category and see if a videos category is present in our category list to be filtered\n            filteredContent = filteredContent.filter((video) => {\n                //go through each topic in our topics array\n                filters.topics.forEach((topic) => {\n                    //Note: Topics is an array and not a single value, hence why we check its own array and not our queries array\n                    if (videoObjectHasClassField) {\n                        return video.class.topics.includes(topic);\n                    } else {\n                        return video.topics.includes(topic);\n                    }\n                });\n            });\n        }\n\n        if (filters.difficulties.length !== 0) {\n            //Check each videos category and see if a videos category is present in our category list to be filtered\n            filteredContent = filteredContent.filter((video) => {\n                if (videoObjectHasClassField) {\n                    return filters.difficulties.includes(video.class.difficulty);\n                } else {\n                    return filters.difficulties.includes(video.difficulty);\n                }\n            });\n        }\n\n        if (sortBy) {\n            if (sortBy === \"Newest\") {\n                filteredContent = filteredContent.sort((a, b) => {\n                    //convert the dates to milliseconds and compare\n                    return new Date(`${b._updated_at}`).getTime() - new Date(`${a._updated_at}`).getTime();\n                });\n            }\n\n            if (sortBy === \"Oldest\") {\n                filteredContent = filteredContent.sort((a, b) => {\n                    //convert the dates to milliseconds and compare\n                    return new Date(`${a._updated_at}`).getTime() - new Date(`${b._updated_at}`).getTime();\n                });\n            }\n\n            if (sortBy === \"Most Popular\") {\n            }\n\n            if (sortBy === \"Highest Rated\") {\n            }\n        }\n\n        setFilteredVideos(filteredContent);\n    }, [filters, sortBy, mainVideos]);\n\n    //----------------------------------------------------------------------------\n    //If watched classes changes for any reason update our displayed videos\n    //----------------------------------------------------------------------------\n    useEffect(() => {\n        //set the videos to be displayed and the videos to apply our filter sidebar filtering to\n        setFilteredVideos(mainVideos);\n    }, [mainVideos]);\n\n    useEffect(() => {\n        //display these videos\n        setDisplayedVideos(filteredVideos);\n    }, [filteredVideos]);\n\n    //----------------------------------------------------------------------------\n    //Apply search on displayed videos\n    //----------------------------------------------------------------------------\n    useEffect(() => {\n        const data = filteredVideos.filter((item) => {\n            if (videoObjectHasClassField) {\n                return (\n                    //check instructor\n                    //For efficiency convert both fields to lower case\n                    item.class.instructor.toLowerCase().includes(searchValue.toLowerCase()) ||\n                    //check topics\n                    //loop through each topic associated with this video\n                    //\"some\" method returns either true or false\n                    item.class.topics.some((value) => {\n                        return value.toLowerCase().includes(searchValue.toLowerCase());\n                    })\n                );\n            } else if (item.topics && item.instructor) {\n                //if we are looping through a course these fields do not exist\n                //In essence search doesnt work on courses\n                return (\n                    //check instructor\n                    //For efficiency convert both fields to lower case\n                    item.instructor.toLowerCase().includes(searchValue.toLowerCase()) ||\n                    //check topics\n                    //loop through each topic associated with this video\n                    //\"some\" method returns either true or false\n                    item.topics.some((value) => {\n                        return value.toLowerCase().includes(searchValue.toLowerCase());\n                    })\n                );\n            } else {\n                return item;\n            }\n        });\n\n        setDisplayedVideos(data);\n    }, [searchValue]);\n\n    const handleClearFilters = () => {\n        setFilters((prevState) => {\n            return {\n                // ...prevState,\n                categories: [],\n                topics: [],\n                difficulties: []\n            };\n        });\n\n        setSortBy(\"Newest\");\n    };\n\n    return {\n        showFilterSidebar,\n        handleShowFilterSidebar,\n        searchValue,\n        handleSetSearchValue,\n        displayedVideos,\n        filters,\n        sortBy,\n        handleSetFilters,\n        handleSortBy,\n        handleApplyFilters,\n        handleClearFilters\n    };\n};\n\nexport default useSearchAndFilter;\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport LibrarySidebar from \"@/components/specific/librarySidebar/LibrarySidebar\";\nimport FilterSidebar from \"@/components/specific/filterSidebar/FilterSidebar\";\nimport ClassPreviewCard from \"@/components/specific/classPreviewCard/ClassPreviewCard\";\nimport Advert2 from \"@/components/specific/advert2/Advert2\";\nimport SearchFilter from \"@/components/specific/searchFilter/SearchFilter\";\nimport SiteLoadingPlaceholder from \"@/components/specific/siteLoadingPlaceholder/SiteLoadingPlaceholder\";\nimport useSearchAndFilter from \"@/components/conventional/customHooks/useSearchAndFilter\";\n\nimport \"./SearchPage.scss\";\nimport { showSuccessToast } from \"@/utils/Utils\";\n\nconst SearchPage = () => {\n    //----------------------------------------------------------------------------\n    //Helpers\n    //----------------------------------------------------------------------------\n    const { allClasses } = useSelector((state) => state.class);\n    const {\n        showFilterSidebar,\n        handleShowFilterSidebar,\n        searchValue,\n        handleSetSearchValue,\n        displayedVideos,\n        filters,\n        sortBy,\n        handleSetFilters,\n        handleSortBy,\n        handleApplyFilters,\n        handleClearFilters\n    } = useSearchAndFilter(allClasses, true);\n\n    useState(() => {\n        showSuccessToast(\n            \"We nee to consider List virtualization for this page, cause even if i lazy load the items on this page. It would still not have any substantial effect on the page. \"\n        );\n    }, []);\n\n    return (\n        <div className={showFilterSidebar ? \"library-section-wrapper show-filter-sidebar\" : \"library-section-wrapper\"}>\n            <div className=\"library-section-wrapper__left-column\">\n                <LibrarySidebar />\n                <div className=\"library-section-wrapper__left-column__content\">\n                    <div id=\"search-page\">\n                        <div className=\"search-page\">\n                            {displayedVideos && displayedVideos.length !== 0 ? (\n                                <div className=\"search-page__content\">\n                                    <div className=\"search-filter-wrapper\">\n                                        <SearchFilter\n                                            handleShowFilterSidebar={handleShowFilterSidebar}\n                                            value={searchValue}\n                                            handleChange={handleSetSearchValue}\n                                        />\n                                    </div>\n                                    <div className=\"group\">\n                                        {displayedVideos.slice(0, 12).map((item, index) => {\n                                            return <ClassPreviewCard key={index} details={item} />;\n                                        })}\n                                    </div>\n                                    <div className=\"advert-wrapper\">\n                                        <Advert2 />\n                                    </div>\n                                    <div className=\"group\">\n                                        {displayedVideos.slice(12).map((item, index) => {\n                                            return <ClassPreviewCard key={index} details={item} />;\n                                        })}\n                                    </div>\n                                    <div className=\"advert-wrapper\" style={{ marginBottom: \"0px\" }}>\n                                        <Advert2 />\n                                    </div>\n                                </div>\n                            ) : (\n                                <h2 style={{ marginLeft: \"70px\" }}>Fetching videos...</h2>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"library-section-wrapper__right-column\">\n                {showFilterSidebar && (\n                    <FilterSidebar\n                        filters={filters}\n                        handleShowFilterSidebar={handleShowFilterSidebar}\n                        sortBy={sortBy}\n                        handleSetFilters={handleSetFilters}\n                        handleSortBy={handleSortBy}\n                        handleSaveFilters={handleApplyFilters}\n                        handleClearFilters={handleClearFilters}\n                    />\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default SearchPage;\n"],"sourceRoot":""}