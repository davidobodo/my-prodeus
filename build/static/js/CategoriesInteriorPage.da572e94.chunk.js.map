{"version":3,"sources":["components/specific/classPreviewCard/ClassPreviewCard.jsx","assets/global/AddFolderIcon.jsx","assets/pages/categoriesInterior/plus.svg","pages/categoriesInteriorPage/CategoriesInteriorPage.jsx"],"names":["memo","details","watchedDetails","image","title","category","difficulty","duration","classId","_id","dispatch","useDispatch","history","useHistory","userToken","useSelector","state","auth","handleAddCourse","useCallback","e","stopPropagation","reqShowCourseModal","handleRedirect","axios","post","BASE_URL","headers","Authorization","then","res","catch","err","alert","push","pathname","handleBookmarkClass","className","style","backgroundImage","onClick","iconColor","bgColor","color","opacity","role","aria-label","renderEmoji","AddFolderIcon","xmlns","width","height","viewBox","id","data-name","transform","rx","fill","d","module","exports","location","useParams","mainCategory","favCategories","user","allClasses","class","useState","hasLoaded","setHasLoaded","categoryClasses","setCategoryClasses","isFollowing","setIsFollowing","capitalizeFirstLetter","checkIfUserIsFollowing","isPresent","find","item","name","useEffect","data","filter","handleSetCategoryClasses","updatedFavCategories","newCategory","body","console","log","reqUpdateUser","localStorageData","getLocalStorage","setLocalStorage","handleSetFavCategory","backgroundColor","src","plus","alt","length","slice","map","index","key","marginLeft"],"mappings":"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","file":"static/js/CategoriesInteriorPage.da572e94.chunk.js","sourcesContent":["import React, { useCallback, memo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport Difficulty from \"@/components/specific/difficulty/Difficulty\";\nimport Time from \"@/components/specific/time/Time\";\nimport Likes from \"@/components/specific/likes/Likes\";\nimport AddFolderIcon from \"@/assets/global/AddFolderIcon\";\nimport BookmarkIcon from \"@/assets/global/BookmatkIcon\";\n\nimport { BASE_URL } from \"@/utils/Url\";\n\nimport { reqShowCourseModal } from \"@/store/global/slice/UtilSlice\";\n\nimport \"./ClassPreviewCard.scss\";\nimport { renderEmoji } from \"@/utils/Utils\";\n\nconst ClassPreviewCard = ({ details, watchedDetails = null }) => {\n    const { image, title, category, difficulty, duration, _id: classId } = details;\n\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    const { userToken } = useSelector((state) => state.auth);\n\n    const handleAddCourse = useCallback(\n        (e) => {\n            e.stopPropagation();\n            dispatch(reqShowCourseModal(classId));\n        },\n        [dispatch]\n    );\n\n    const handleRedirect = useCallback(\n        (e) => {\n            e.stopPropagation();\n            //Increase click count\n            axios\n                .post(\n                    `${BASE_URL}/class/click/${classId}`,\n                    {},\n                    {\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                            Authorization: `Bearer ${userToken}`\n                        }\n                    }\n                )\n                .then((res) => {\n                    // console.log(res, \"click count\");\n                    //course has been saved, needs no ui feedback right now\n                })\n                .catch((err) => {\n                    alert(err);\n                });\n\n            history.push({ pathname: \"/library-class\", state: { details, watchedDetails } });\n        },\n        [details, watchedDetails]\n    );\n\n    const handleBookmarkClass = useCallback(\n        (e) => {\n            e.stopPropagation();\n            axios\n                .post(\n                    `${BASE_URL}/class/save/${classId}`,\n                    {},\n                    {\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                            Authorization: `Bearer ${userToken}`\n                        }\n                    }\n                )\n                .then(() => {\n                    //course has been saved, needs no ui feedback right now\n                })\n                .catch((err) => {\n                    alert(err);\n                });\n        },\n        [classId]\n    );\n\n    return (\n        <div className=\"class-preview-card-component\">\n            <div className=\"image-wrapper\" style={{ backgroundImage: `url(${image})` }} onClick={handleRedirect}>\n                <h5 className=\"badge-new\">NEW</h5>\n                <div className=\"likes-wrapper\">\n                    <Likes iconColor=\"#4389f8\" bgColor=\"#fff\" color=\"#000\" />\n                </div>\n\n                <div className=\"bottom-actions\">\n                    <div onClick={handleBookmarkClass} className=\"bottom-actions__bookmark\">\n                        <div className=\"popup\">Bookmark</div>\n                        <BookmarkIcon color=\"#fff\" bgColor=\"#e63146\" opacity=\"1\" />\n                    </div>\n\n                    <div onClick={handleAddCourse} className=\"bottom-actions__add-to-course\">\n                        <div className=\"popup\">Add to course</div>\n                        <AddFolderIcon color=\"#fff\" bgColor=\"#6a28e6\" opacity=\"1\" />\n                    </div>\n                </div>\n            </div>\n            <h6 className=\"category\">\n                <span role=\"img\" aria-label=\"\">\n                    {renderEmoji(category)}\n                </span>\n                {category}\n            </h6>\n            <h2 className=\"caption\" onClick={handleRedirect}>\n                {title}\n            </h2>\n            <div className=\"info\">\n                <section>\n                    <Difficulty difficulty={difficulty} />\n                </section>\n                <section>\n                    <Time iconColor=\"#fff\" duration={duration} />\n                </section>\n            </div>\n        </div>\n    );\n};\n\nexport default memo(ClassPreviewCard);\n","import React from \"react\";\n\nconst AddFolderIcon = ({ color = \"#6a28e6\", bgColor = \"#6a28e6\", opacity = \"0.15\" }) => {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"34\" viewBox=\"0 0 34 34\">\n            <g id=\"Group_10186\" data-name=\"Group 10186\" transform=\"translate(-227 -622.953)\">\n                <rect\n                    id=\"Rectangle_7355\"\n                    data-name=\"Rectangle 7355\"\n                    width=\"34\"\n                    height=\"34\"\n                    rx=\"17\"\n                    transform=\"translate(227 622.953)\"\n                    fill={bgColor}\n                    opacity={opacity}\n                />\n                <path\n                    id=\"Path_14356\"\n                    data-name=\"Path 14356\"\n                    d=\"M183.187,3002.728H174.7l-.761-.922a1.179,1.179,0,0,0-.891-.406h-2.723a1.01,1.01,0,0,0-1,1v9.992a1.009,1.009,0,0,0,1,1H183.2a1.009,1.009,0,0,0,1-1v-8.664A1.034,1.034,0,0,0,183.187,3002.728Zm-4.013,5.734h-1.681v1.68a.637.637,0,1,1-1.274,0v-1.68h-1.68a.637.637,0,0,1,0-1.275h1.68v-1.68a.637.637,0,1,1,1.274,0v1.68h1.681a.637.637,0,0,1,0,1.275Z\"\n                    transform=\"translate(66.895 -2367.239)\"\n                    fill={color}\n                />\n            </g>\n        </svg>\n    );\n};\n\nexport default AddFolderIcon;\n","module.exports = __webpack_public_path__ + \"static/media/plus.48a278fe.svg\";","import React, { useState, useEffect, memo, useCallback } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport axios from \"axios\";\n\nimport LibrarySidebar from \"@/components/specific/librarySidebar/LibrarySidebar\";\nimport PreviewCard from \"@/components/specific/classPreviewCard/ClassPreviewCard\";\nimport Advert2 from \"@/components/specific/advert2/Advert2\";\nimport SiteLoadingPlaceholder from \"@/components/specific/siteLoadingPlaceholder/SiteLoadingPlaceholder\";\n\nimport plus from \"@/assets/pages/categoriesInterior/plus.svg\";\nimport { BASE_URL } from \"@/utils/Url\";\nimport { reqUpdateUser } from \"@/store/global/slice/AuthSlice\";\nimport { getLocalStorage, setLocalStorage } from \"@/utils/Utils\";\n\nimport \"./CategoriesInteriorPage.scss\";\n\nimport { capitalizeFirstLetter } from \"@/utils/Utils\";\n\nconst Page = ({ location }) => {\n    const { id } = useParams();\n    const { title, mainCategory } = location.state; //title: name of category, mainCategory: where the category belongs to\n    const dispatch = useDispatch();\n\n    const { userToken } = useSelector((state) => state.auth);\n    const { favCategories } = useSelector((state) => state.auth.user);\n    const { allClasses } = useSelector((state) => state.class);\n\n    const [hasLoaded, setHasLoaded] = useState(false); //To make sure categories have been sorted out appropraitely before displaying them\n    const [categoryClasses, setCategoryClasses] = useState([]);\n    const [isFollowing, setIsFollowing] = useState(false);\n\n    const pageHeading = capitalizeFirstLetter(id);\n\n    // ---------------------------------------------------------------------\n    // Network Requests\n    // ---------------------------------------------------------------------\n    const handleSetFavCategory = () => {\n        let updatedFavCategories;\n\n        // Check if category is present in favCategories\n        // If it is then user desires to remove it\n        const isPresent = favCategories.find((item) => {\n            return item.name === title;\n        });\n\n        if (isPresent) {\n            const data = favCategories.filter((item) => {\n                return item.name !== title;\n            });\n            updatedFavCategories = [...data];\n        } else {\n            const newCategory = {\n                name: title,\n                category: mainCategory\n            };\n            updatedFavCategories = [...favCategories, newCategory];\n        }\n\n        const body = {\n            favCategories: updatedFavCategories\n        };\n\n        axios\n            .post(`${BASE_URL}/user/update`, body, {\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: `Bearer ${userToken}`\n                }\n            })\n            .then((res) => {\n                //Updata general store\n                console.log(res.data);\n                dispatch(reqUpdateUser(res.data));\n                //Update Local storage\n                const localStorageData = getLocalStorage(\"prodeus\");\n                localStorageData.user = res.data;\n                setLocalStorage(\"prodeus\", localStorageData);\n            })\n            .catch((err) => {\n                alert(err);\n            });\n    };\n\n    //---------------------------------------------------------------------\n    //Helper functions\n    //---------------------------------------------------------------------\n    //I needed this function to be hoisted that is why i used the normal function declaration\n    function handleSetCategoryClasses() {\n        const data = allClasses.filter((item) => {\n            return item.category === title;\n        });\n\n        setCategoryClasses(data);\n        setHasLoaded(true);\n    }\n\n    const checkIfUserIsFollowing = useCallback(() => {\n        //Check if this category is among the favourite categories\n        const isPresent = favCategories.find((item) => {\n            return item.name === title;\n        });\n\n        if (isPresent) {\n            setIsFollowing(true);\n        } else {\n            setIsFollowing(false);\n        }\n    }, [favCategories, id]);\n\n    const handleSetIsFollowing = () => {\n        setIsFollowing(!isFollowing);\n        handleSetFavCategory();\n    };\n\n    //---------------------------------------------------------------------\n    //UseEffects\n    //---------------------------------------------------------------------\n    useEffect(() => {\n        if (allClasses) {\n            handleSetCategoryClasses();\n        }\n    }, [allClasses, id]);\n\n    useEffect(() => {\n        checkIfUserIsFollowing();\n    }, [favCategories, id]);\n\n    if (!hasLoaded) {\n        return <SiteLoadingPlaceholder />;\n    }\n\n    return (\n        <div className=\"library-section-wrapper\">\n            <div className=\"library-section-wrapper__left-column\">\n                <LibrarySidebar />\n                <div className=\"library-section-wrapper__left-column__content\">\n                    <div id=\"categories-interior-page\">\n                        <div className=\"categories-interior-page\">\n                            <div className=\"categories-interior-page__header\">\n                                <h1>{title} </h1>\n                                <button\n                                    className=\"btn-follow\"\n                                    onClick={handleSetIsFollowing}\n                                    style={{ backgroundColor: isFollowing ? \"#22283a\" : \"#b4b4c9\" }}\n                                >\n                                    <span>{isFollowing ? \"Following\" : \"Follow\"}</span>\n                                    <img src={plus} alt=\"follow\" />\n                                </button>\n                            </div>\n                            {categoryClasses.length !== 0 ? (\n                                <div className=\"categories-interior-page__content\">\n                                    <div className=\"group\">\n                                        {categoryClasses.slice(0, 12).map((item, index) => {\n                                            return <PreviewCard key={index} details={item} />;\n                                        })}\n                                    </div>\n                                    <div className=\"advert-wrapper\">\n                                        <Advert2 />\n                                    </div>\n                                    <div className=\"group\">\n                                        {categoryClasses.slice(12, 24).map((item, index) => {\n                                            return <PreviewCard key={index} details={item} />;\n                                        })}\n                                    </div>\n                                </div>\n                            ) : (\n                                <h2 style={{ marginLeft: \"70px\" }}>Sorry No classes added yet</h2>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default memo(Page);\n"],"sourceRoot":""}